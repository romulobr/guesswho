!function(){function t(){var t=document.documentElement,e={left:t.scrollLeft||document.body.scrollLeft||0,top:t.scrollTop||document.body.scrollTop||0,width:t.clientWidth,height:t.clientHeight};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function e(e){var n=e.getBoundingClientRect(),r=t(),i=r.left,a=r.top;return{left:n.left+i,right:n.right+i,top:n.top+a,bottom:n.bottom+a,width:n.width,height:n.height}}function n(t,e,n){return n.left<=t&&t<=n.right&&n.top<=e&&e<=n.bottom}function r(t){if("x-tabbar"===t.parentNode.nodeName.toLowerCase()){var e=t.targetEvent,n=t.targetSelector?xtag.query(document,t.targetSelector):t.targetElems;n.forEach(function(t){xtag.fireEvent(t,e)})}}xtag.register("x-tabbar",{lifecycle:{created:function(){this.xtag.overallEventToFire="show"}},events:{"tap:delegate(x-tabbar-tab)":function(){var t=xtag.query(this.parentNode,"x-tabbar-tab[selected]");t.length&&t.forEach(function(t){t.removeAttribute("selected")}),this.setAttribute("selected",!0)}},accessors:{tabs:{get:function(){return xtag.queryChildren(this,"x-tabbar-tab")}},targetEvent:{attribute:{name:"target-event"},get:function(){return this.xtag.overallEventToFire},set:function(t){this.xtag.overallEventToFire=t}}},methods:{}}),xtag.register("x-tabbar-tab",{lifecycle:{created:function(){this.xtag.targetSelector=null,this.xtag.overrideTargetElems=null,this.xtag.targetEvent=null}},events:{tap:function(t){var i=t.currentTarget;if(t.changedTouches){if(!t.changedTouches.length)return;var a=t.changedTouches[0],o=e(i);n(a.pageX,a.pageY,o)&&r(i)}else r(i)}},accessors:{targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag.targetSelector},set:function(t){this.xtag.targetSelector=t,t&&(this.xtag.overrideTargetElems=null)}},targetElems:{get:function(){return this.targetSelector?xtag.query(document,this.targetSelector):null!==this.xtag.overrideTargetElems?this.xtag.overrideTargetElems:[]},set:function(t){this.removeAttribute("target-selector"),this.xtag.overrideTargetElems=t}},targetEvent:{attribute:{name:"target-event"},get:function(){if(this.xtag.targetEvent)return this.xtag.targetEvent;if("x-tabbar"===this.parentNode.nodeName.toLowerCase())return this.parentNode.targetEvent;throw"tabbar-tab is missing event to fire"},set:function(t){this.xtag.targetEvent=t}}},methods:{}})}();